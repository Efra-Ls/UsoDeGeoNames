<!DOCTYPE html>
<html lang="es">
    <head>
        <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
        <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />
        <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
        <script type="text/javascript" src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
        <meta charset="UTF-8">

        <script type="text/javascript">
         $(document).ready(function(e){

            $('#p_cp').hide();



         $('#codigoPostal').blur(function(e) {
            
         var espe=6000;
         var valorEstado="";
         var valormunicipio="";
         var valorColonia="";
         $.ajax({  
          type: "GET",  
          url: "https://data.opendatasoft.com/api/records/1.0/search/?dataset=geonames-postal-code%40public&q="+$(this).val()+"&facet=country_code&facet=admin_name1&facet=admin_code1&facet=admin_name2&refine.country_code="+$("#selec_pais").val()+" ", 
          dataType: "json", 
          beforeSend: function() {
              $('#p_cp').show();espe
           },
           complete: function(){
              $('#p_cp').hide();
           },
          success: function (data) {  
            $('#selec_estado').empty();
            $('#selec_municipio').empty();
            $('#selec_localidad').empty();
            
            $.each(data.records, function(i,item){

               if(valorEstado!=item.fields.admin_name1){
                  $('#selec_estado').prepend('<option value="'+
                 item.fields.admin_name1+'">'+item.fields.admin_name1+'</option>'); 
                 }
                 valorEstado=item.fields.admin_name1;                                  
                 
                 if(valormunicipio!=item.fields.admin_name2){
                  $('#selec_municipio').prepend('<option value="'+
                  item.fields.admin_name2+'">'+item.fields.admin_name2+'</option>'); 
                 }
                 valormunicipio=item.fields.admin_name2; 
          
                  $('#selec_localidad').prepend('<option value="'+
                 item.fields.place_name+'">'+item.fields.place_name+'</option>');

                 

             });  
                                   


          },espe //End of AJAX Success function  
      }); 

      })
   })

      
         
   </script>
    </head>
    <body>
      
        <h1>Registro de datos del domicilio</h1>
        </br>
        </br>
        <form role="form" id="datos">
            <div class="row">
               <div class="col-md-4">
                  <div class="form-group">
                     <label class="control-label">Código postal<span id="ast_cp">*</span>:</label> 
                  </div>
                  <div class="form-group">
                     <div class="input-group">
                        <input class="form-control required" id="codigoPostal" name="codigoPostal" type="text" maxlength="5">                        
                     </div>
                     <div  id="p_cp" name="p_cp"><img width="90px" src="loading.gif"></div>
                  </div>
               </div>
            </div>
            <div class="row">
               <div class="col-md-2">
                  <div class="form-group">
                     <label class="control-label">Pais<span id="lselec_pais">*</span>:</label>
                     <select class="form-control required" id="selec_pais" name="selec_pais">
                     <option value="AD"> Andorra</option><option value="AE"> United Arab Emirates</option><option value="AF"> Afghanistan</option><option value="AG"> Antigua and Barbuda</option><option value="AI"> Anguilla</option><option value="AL"> Albania</option><option value="AM"> Armenia</option><option value="AN"> Netherlands Antilles</option><option value="AO"> Angola</option><option value="AQ"> Antarctica</option><option value="AR"> Argentina</option><option value="AS"> American Samoa</option><option value="AT"> Austria</option><option value="AU"> Australia</option><option value="AW"> Aruba</option><option value="AX"> Aland Islands</option><option value="AZ"> Azerbaijan</option><option value="BA"> Bosnia and Herzegovina</option><option value="BB"> Barbados</option><option value="BD"> Bangladesh</option><option value="BE"> Belgium</option><option value="BF"> Burkina Faso</option><option value="BG"> Bulgaria</option><option value="BH"> Bahrain</option><option value="BI"> Burundi</option><option value="BJ"> Benin</option><option value="BM"> Bermuda</option><option value="BN"> Brunei</option><option value="BO"> Bolivia</option><option value="BR"> Brazil</option><option value="BS"> Bahamas</option><option value="BT"> Bhutan</option><option value="BV"> Bouvet Island</option><option value="BW"> Botswana</option><option value="BY"> Belarus</option><option value="BZ"> Belize</option><option value="CA"> Canada</option><option value="CC"> Cocos Islands</option><option value="CD"> The Democratic Republic Of Congo</option><option value="CF"> Central African Republic</option><option value="CG"> Congo</option><option value="CH"> Switzerland</option><option value="CI"> Côte d'Ivoire</option><option value="CK"> Cook Islands</option><option value="CL"> Chile</option><option value="CM"> Cameroon</option><option value="CN"> China</option><option value="CO"> Colombia</option><option value="CR"> Costa Rica</option><option value="CS"> Serbia and Montenegro</option><option value="CU"> Cuba</option><option value="CV"> Cape Verde</option><option value="CX"> Christmas Island</option><option value="CY"> Cyprus</option><option value="CZ"> Czech Republic</option><option value="DE"> Germany</option><option value="DJ"> Djibouti</option><option value="DK"> Denmark</option><option value="DM"> Dominica</option><option value="DO"> Dominican Republic</option><option value="DZ"> Algeria</option><option value="EC"> Ecuador</option><option value="EE"> Estonia</option><option value="EG"> Egypt</option><option value="EH"> Western Sahara</option><option value="ER"> Eritrea</option><option value="ES"> Spain</option><option value="ET"> Ethiopia</option><option value="FI"> Finland</option><option value="FJ"> Fiji</option><option value="FK"> Falkland Islands</option><option value="FM"> Micronesia</option><option value="FO"> Faroe Islands</option><option value="FR"> France</option><option value="GA"> Gabon</option><option value="GB"> United Kingdom</option><option value="GD"> Grenada</option><option value="GE"> Georgia</option><option value="GF"> French Guiana</option><option value="GH"> Ghana</option><option value="GI"> Gibraltar</option><option value="GL"> Greenland</option><option value="GM"> Gambia</option><option value="GN"> Guinea</option><option value="GP"> Guadeloupe</option><option value="GQ"> Equatorial Guinea</option><option value="GR"> Greece</option><option value="GS"> South Georgia And The South Sandwich Islands</option><option value="GT"> Guatemala</option><option value="GU"> Guam</option><option value="GW"> Guinea-Bissau</option><option value="GY"> Guyana</option><option value="HK"> Hong Kong</option><option value="HM"> Heard Island And McDonald Islands</option><option value="HN"> Honduras</option><option value="HR"> Croatia</option><option value="HT"> Haiti</option><option value="HU"> Hungary</option><option value="ID"> Indonesia</option><option value="IE"> Ireland</option><option value="IL"> Israel</option><option value="IN"> India</option><option value="IO"> British Indian Ocean Territory</option><option value="IQ"> Iraq</option><option value="IR"> Iran</option><option value="IS"> Iceland</option><option value="IT"> Italy</option><option value="JM"> Jamaica</option><option value="JO"> Jordan</option><option value="JP"> Japan</option><option value="KE"> Kenya</option><option value="KG"> Kyrgyzstan</option><option value="KH"> Cambodia</option><option value="KI"> Kiribati</option><option value="KM"> Comoros</option><option value="KN"> Saint Kitts And Nevis</option><option value="KP"> North Korea</option><option value="KR"> South Korea</option><option value="KW"> Kuwait</option><option value="KY"> Cayman Islands</option><option value="KZ"> Kazakhstan</option><option value="LA"> Laos</option><option value="LB"> Lebanon</option><option value="LC"> Saint Lucia</option><option value="LI"> Liechtenstein</option><option value="LK"> Sri Lanka</option><option value="LR"> Liberia</option><option value="LS"> Lesotho</option><option value="LT"> Lithuania</option><option value="LU"> Luxembourg</option><option value="LV"> Latvia</option><option value="LY"> Libya</option><option value="MA"> Morocco</option><option value="MC"> Monaco</option><option value="MD"> Moldova</option><option value="MG"> Madagascar</option><option value="MH"> Marshall Islands</option><option value="MK"> Macedonia</option><option value="ML"> Mali</option><option value="MM"> Myanmar</option><option value="MN"> Mongolia</option><option value="MO"> Macao</option><option value="MP"> Northern Mariana Islands</option><option value="MQ"> Martinique</option><option value="MR"> Mauritania</option><option value="MS"> Montserrat</option><option value="MT"> Malta</option><option value="MU"> Mauritius</option><option value="MV"> Maldives</option><option value="MW"> Malawi</option><option value="MX"> Mexico</option><option value="MY"> Malaysia</option><option value="MZ"> Mozambique</option><option value="NA"> Namibia</option><option value="NC"> New Caledonia</option><option value="NE"> Niger</option><option value="NF"> Norfolk Island</option><option value="NG"> Nigeria</option><option value="NI"> Nicaragua</option><option value="NL"> Netherlands</option><option value="NO"> Norway</option><option value="NP"> Nepal</option><option value="NR"> Nauru</option><option value="NU"> Niue</option><option value="NZ"> New Zealand</option><option value="OM"> Oman</option><option value="PA"> Panama</option><option value="PE"> Peru</option><option value="PF"> French Polynesia</option><option value="PG"> Papua New Guinea</option><option value="PH"> Philippines</option><option value="PK"> Pakistan</option><option value="PL"> Poland</option><option value="PM"> Saint Pierre And Miquelon</option><option value="PN"> Pitcairn</option><option value="PR"> Puerto Rico</option><option value="PS"> Palestine</option><option value="PT"> Portugal</option><option value="PW"> Palau</option><option value="PY"> Paraguay</option><option value="QA"> Qatar</option><option value="RE"> Reunion</option><option value="RO"> Romania</option><option value="RU"> Russia</option><option value="RW"> Rwanda</option><option value="SA"> Saudi Arabia</option><option value="SB"> Solomon Islands</option><option value="SC"> Seychelles</option><option value="SD"> Sudan</option><option value="SE"> Sweden</option><option value="SG"> Singapore</option><option value="SH"> Saint Helena</option><option value="SI"> Slovenia</option><option value="SJ"> Svalbard And Jan Mayen</option><option value="SK"> Slovakia</option><option value="SL"> Sierra Leone</option><option value="SM"> San Marino</option><option value="SN"> Senegal</option><option value="SO"> Somalia</option><option value="SR"> Suriname</option><option value="ST"> Sao Tome And Principe</option><option value="SV"> El Salvador</option><option value="SY"> Syria</option><option value="SZ"> Swaziland</option><option value="TC"> Turks And Caicos Islands</option><option value="TD"> Chad</option><option value="TF"> French Southern Territories</option><option value="TG"> Togo</option><option value="TH"> Thailand</option><option value="TJ"> Tajikistan</option><option value="TK"> Tokelau</option><option value="TL"> Timor-Leste</option><option value="TM"> Turkmenistan</option><option value="TN"> Tunisia</option><option value="TO"> Tonga</option><option value="TR"> Turkey</option><option value="TT"> Trinidad and Tobago</option><option value="TV"> Tuvalu</option><option value="TW"> Taiwan</option><option value="TZ"> Tanzania</option><option value="UA"> Ukraine</option><option value="UG"> Uganda</option><option value="UM"> United States Minor Outlying Islands</option><option value="US"> United States</option><option value="UY"> Uruguay</option><option value="UZ"> Uzbekistan</option><option value="VA"> Vatican</option><option value="VC"> Saint Vincent And The Grenadines</option><option value="VE"> Venezuela</option><option value="VG"> British Virgin Islands</option><option value="VI"> U.S. Virgin Islands</option><option value="VN"> Vietnam</option><option value="VU"> Vanuatu</option><option value="WF"> Wallis And Futuna</option><option value="WS"> Samoa</option><option value="YE"> Yemen</option><option value="YT"> Mayotte</option><option value="ZA"> South Africa</option><option value="ZM"> Zambia</option><option value="ZW"> Zimbabwe</option></select>
                     
                  </div>
               </div>
               <div class="col-md-2">
                <div class="form-group">
                   <label class="control-label">Estado<span id="lselec_estado">*</span>:</label>
                   <select class="form-control required" id="selec_estado" name="selec_estado">
                   </select>
                </div>
             </div>
             <div class="row" >                
               <div class="col-md-3">
                  <div class="form-group">
                     <label class="control-label">Municipio o delegación<span id="lselec_municipio">*</span>:</label>
                     <select class="form-control required" id="selec_municipio" name="selec_municipio">
                    </select>
                  </div>
               </div>
               <div class="col-md-3">
                  <div class="form-group">
                     <label class="control-label">Localidad<span id="lselec_localidad">*</span>:</label>
                     <select class="form-control required" id="selec_localidad" name="selec_localidad">
                     </select>
                  </div>
               </div>
            </div> 
            </div>                

            </div>
            <div class="row">
               
               <div class="col-md-3">
                  <div class="form-group">
                     <label class="control-label">Calle (tipo)<span id="ast_tipo_calle_1">*</span>:</label>
                     <select class="form-control sel_tipo_calle  required" id="sel_tipo_calle_1" name="sel_tipo_calle_1"><option value="0">Selecciona una opción</option><option value="1">Ampliación</option><option value="2">Andador</option><option value="3">Avenida</option><option value="4">Boulevard</option><option value="5" selected="">Calle</option><option value="6">Callejón</option><option value="7">Calzada</option><option value="8">Cerrada</option><option value="9">Circuito</option><option value="10">Circunvalación</option><option value="11">Continuación</option><option value="12">Corredor</option><option value="13">Diagonal</option><option value="14">Eje vial</option><option value="15">Pasaje</option><option value="16">Peatonal</option><option value="17">Periférico</option><option value="18">Privada</option><option value="19">Prolongación</option><option value="20">Retorno</option><option value="21">Viaducto</option><option value="22">Ninguno</option><option value="23">Carretera</option><option value="24">Camino</option><option value="25">Terraceria</option><option value="26">Brecha</option><option value="27">Vereda</option></select>
                     <p class="vacio" id="p_tipo_calle_1"></p>
                  </div>
               </div>
               <div class="col-md-3">
                  <div class="form-group">
                     <label class="control-label">Calle (nombre)<span id="ast_calle_1">*</span>:</label>
                     <input class="form-control required" id="txt_calle_1" name="txt_calle_1" type="text" onkeyup="javascript:this.value=this.value.toUpperCase();">
                     <p class="vacio" id="p_calle_1"></p>
                  </div>
               </div>
            </div>
            <div class="row">
               <div class="col-md-3">
                  <div class="form-group">
                     <label class="control-label">Número exterior<span id="ast_exterior">*</span>:</label>
                     <input class="form-control num required" id="txt_exterior" name="txt_exterior" type="text" maxlength="10">
                     <p class="vacio" id="p_exterior"></p>
                  </div>
               </div>
               <div class="col-md-3">
                  <div class="form-group">
                     <label class="control-label">Número interior:</label>
                     <input class="form-control num" id="txt_interior" name="txt_interior" type="text" maxlength="10">
                  </div>
               </div>
            </div>
            <div class="row">
               <div class="col-md-3">
                  <div class="form-group">
                     <label class="control-label">Entre calle (tipo)<span id="ast_tipo_calle_2">*</span>:</label>
                     <select class="form-control sel_tipo_calle required" id="sel_tipo_calle_2" name="sel_tipo_calle_2"><option value="0">Selecciona una opción</option><option value="1">Ampliación</option><option value="2">Andador</option><option value="3">Avenida</option><option value="4">Boulevard</option><option value="5" selected="">Calle</option><option value="6">Callejón</option><option value="7">Calzada</option><option value="8">Cerrada</option><option value="9">Circuito</option><option value="10">Circunvalación</option><option value="11">Continuación</option><option value="12">Corredor</option><option value="13">Diagonal</option><option value="14">Eje vial</option><option value="15">Pasaje</option><option value="16">Peatonal</option><option value="17">Periférico</option><option value="18">Privada</option><option value="19">Prolongación</option><option value="20">Retorno</option><option value="21">Viaducto</option><option value="22">Ninguno</option><option value="23">Carretera</option><option value="24">Camino</option><option value="25">Terraceria</option><option value="26">Brecha</option><option value="27">Vereda</option></select>
                     <p class="vacio" id="p_tipo_calle_2"></p>
                  </div>
               </div>
               <div class="col-md-3">
                  <div class="form-group">
                     <label class="control-label">Entre calle (nombre)<span id="ast_calle_2">*</span>:</label>
                     <input class="form-control required" id="txt_calle_2" name="txt_calle_2" type="text" onkeyup="javascript:this.value=this.value.toUpperCase();">
                     <p class="vacio" id="p_calle_2"></p>
                  </div>
               </div>
            </div>
            <div class="row">
               <div class="col-md-3">
                  <div class="form-group">
                     <label class="control-label">Y calle (tipo)<span id="ast_tipo_calle_3">*</span>:</label>
                     <select class="form-control sel_tipo_calle required" id="sel_tipo_calle_3" name="sel_tipo_calle_3"><option value="0">Selecciona una opción</option><option value="1">Ampliación</option><option value="2">Andador</option><option value="3">Avenida</option><option value="4">Boulevard</option><option value="5" selected="">Calle</option><option value="6">Callejón</option><option value="7">Calzada</option><option value="8">Cerrada</option><option value="9">Circuito</option><option value="10">Circunvalación</option><option value="11">Continuación</option><option value="12">Corredor</option><option value="13">Diagonal</option><option value="14">Eje vial</option><option value="15">Pasaje</option><option value="16">Peatonal</option><option value="17">Periférico</option><option value="18">Privada</option><option value="19">Prolongación</option><option value="20">Retorno</option><option value="21">Viaducto</option><option value="22">Ninguno</option><option value="23">Carretera</option><option value="24">Camino</option><option value="25">Terraceria</option><option value="26">Brecha</option><option value="27">Vereda</option></select>
                     <p class="vacio" id="p_tipo_calle_3"></p>
                  </div>
               </div>
               <div class="col-md-3">
                  <div class="form-group">
                     <label class="control-label">Y calle (nombre)<span id="ast_calle_3">*</span>:</label>
                     <input class="form-control required" id="txt_calle_3" name="txt_calle_3" type="text" onkeyup="javascript:this.value=this.value.toUpperCase();">
                     <p class="vacio" id="p_calle_3"></p>
                  </div>
               </div>
            </div>
            <div class="row">
               <div class="col-md-3">
                <div class="form-group">
                   <label class="control-label">Calle posterior (tipo)<span id="ast_tipo_calle_3">*</span>:</label>
                   <select class="form-control sel_tipo_calle required" id="sel_tipo_calle_4" name="sel_tipo_calle_4"><option value="0">Selecciona una opción</option><option value="1">Ampliación</option><option value="2">Andador</option><option value="3">Avenida</option><option value="4">Boulevard</option><option value="5">Calle</option><option value="6">Callejón</option><option value="7">Calzada</option><option value="8">Cerrada</option><option value="9">Circuito</option><option value="10">Circunvalación</option><option value="11">Continuación</option><option value="12">Corredor</option><option value="13">Diagonal</option><option value="14">Eje vial</option><option value="15">Pasaje</option><option value="16">Peatonal</option><option value="17">Periférico</option><option value="18">Privada</option><option value="19">Prolongación</option><option value="20">Retorno</option><option value="21">Viaducto</option><option value="22" selected="">Ninguno</option><option value="23">Carretera</option><option value="24">Camino</option><option value="25">Terraceria</option><option value="26">Brecha</option><option value="27">Vereda</option></select>
                   <p class="vacio" id="p_tipo_calle_4"></p>
                </div>
             </div>
                                      
               <div class="col-md-3">
                  <div class="form-group">
                     <label class="control-label">Calle posterior (nombre)<span id="ast_calle_4">*</span>:</label>
                     <input class="form-control required" id="txt_calle_4" name="txt_calle_4" type="text" onkeyup="javascript:this.value=this.value.toUpperCase();">
                     <p class="vacio" id="p_calle_4"></p>
                  </div>
               </div>
            </div>          
            <div class="row">
               <div class="col-md-8">
                  <div class="form-group">
                     <label class="control-label">Descripción de la ubicación<span id="ast_descripcion">*</span>:</label>
                     <textarea class="form-control required" id="txt_descripcion" name="txt_descripcion" onkeyup="javascript:this.value=this.value.toUpperCase();"></textarea>
                     <p class="vacio" id="p_descripcion"></p>
                  </div>
               </div>
            </div>

        </br>
        <div >
           <div class="col-md-6">
              <div class="pull-left">
                 <p class="top_5">* Campos obligatorios</p>
              </div>
              <div class="pull-right">
                 <button class="btn btn-default" id="btn_descartar" type="button">Descartar</button>
                 <button class="btn btn-primary" id="btn_guardar" type="button">Guardar</button>
              </div>
           </div>
        </div>
         </form>
         
         
    </body>
</html>